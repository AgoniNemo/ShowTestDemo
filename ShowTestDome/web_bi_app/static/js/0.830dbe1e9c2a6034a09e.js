webpackJsonp([0,22],{100:function(t,e,a){var i,s,r={};i=a(459),s=a(260),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var n="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(n.template=s),n.computed||(n.computed={}),Object.keys(r).forEach(function(t){var e=r[t];n.computed[t]=function(){return e}})},260:function(t,e){t.exports=' <tab :line-width=2 active-color=#d9261a :index.sync=index class=jq-test> <tab-item class=vux-center :selected="demo === item" v-for="item in tablist" @click=tabChange(item)>{{item}}</tab-item> </tab> <swiper :index.sync=index height=10rem :show-dots=false class="clearfix jq-te"> <swiper-item class=jq-bu> <div class=jq-so> <group class=jq-mt> <popup-picker :title=datetile :data=timelist2 :value.sync=timeEffectiveness></popup-picker> </group> <group class=jq-mt v-if="indexDep>=1"> <div class=chart v-ebar=departmentOne></div> </group> <group class=jq-mt v-if="indexDep>=2"> <div class=chart v-ebar=departmentTwo></div> </group> <group class=jq-mt v-if="indexDep>=3"> <div class=chart v-ebar=departmentThree></div> </group> <group class=jq-mt v-if="indexDep>=4"> <div class=chart v-ebar=departmentFour></div> </group> <group class=jq-mt v-if="indexDep>=5"> <div class=chart v-ebar=departmentFive></div> </group> </div> </swiper-item> <swiper-item height=23rem> <group class=jq-mt> <popup-picker :title=datetile :data=timelist :value.sync=time></popup-picker> </group> <group class=jq-mt> <div class=chart v-ebar=barDataReturnRate></div> </group> </swiper-item> <swiper-item height=23rem> <group class=jq-mt> <popup-picker :title=datetile :data=timelist :value.sync=timeMaterial></popup-picker> </group> <group class=jq-mt> <div class=chart v-ebar=barDataDyingMaterial></div> </group> </swiper-item> <swiper-item height=23rem> <group class=jq-mt> <popup-picker :title=datetile :data=timelist :value.sync=timeAttendance></popup-picker> </group> <group class=jq-mt> <div class=chart v-ebar=barDataAttendance></div> </group> <group class=jq-mt> <div class=chart v-ebar=barDataLossRate></div> </group> </swiper-item> </swiper> '},459:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),r=i(s),n=a(2),o=i(n),c=a(4),m=a(1),d=function(){return["人均小时效率","存仓","呆死料","出勤流失"]};e.default={components:{Group:c.Group,Selector:c.Selector,Tab:c.Tab,TabItem:c.TabItem,Swiper:c.Swiper,SwiperItem:c.SwiperItem,PopupPicker:c.PopupPicker,Cell:c.Cell,Scroller:c.Scroller,sticky:c.sticky},data:function(){return{datetile:"日期",demo:"人均小时效率",tablist:d(),time:formatData.defaultTime,timeMaterial:formatData.defaultTime,timeAttendance:formatData.defaultTime,timeEffectiveness:formatData.defaultTimeYear,timelist:formatData.dateList,timelist2:formatData.dateListYear,busList:formatData.busList,departmentOne:{},departmentTwo:{},departmentThree:{},departmentFour:{},departmentFive:{},indexDep:0,barDataReturnRate:{},barDataDyingMaterial:{},barDataAttendance:{},barDataLossRate:{},index:0,isClickWarehousing:0,isClickAttendance:0,isClickMaterial:0,permissions:localStorage.getItem("permissions")}},ready:function(){document.title="生产制造"},methods:{tabChange:function(t){"存仓"==t?0==this.isClickWarehousing&&(this.getDataReturnRate(),this.isClickWarehousing++):"呆死料"==t?0==this.isClickMaterial&&(this.getDataDyingMaterial(),this.isClickMaterial++):"出勤流失"==t&&0==this.isClickAttendance&&(this.getbarDataAttendance(),this.getbarDataLossRate(),this.isClickAttendance++)},getDepartmentList:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(r.default.mark(function t(){var e,a,i,s,n,o,c,d,p,u,D,h,l,f,g,b,v;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return commit("UPDATE_LOADING",!0),e="",a=void 0,"201"==this.permissions?(e="APP10207a",a="FPI"):"203"==this.permissions&&(e="APP10207b",a="SMD"),i=formatData.dateConversion(this.timeEffectiveness),t.next=7,(0,m.getDept)(a);case 7:if(s=t.sent,!s.success){t.next=48;break}if(n=s.data,!(n.length>0)){t.next=46;break}this.indexDep=n.length,o=0;case 13:if(!(o<n.length)){t.next=46;break}if(c=n[o].deptId,0!=o){t.next=20;break}return t.next=18,(0,m.getList)(e,{date_:i,DEPT_CH:c});case 18:d=t.sent,d.success&&(p=d.data,p.workDescribe=a+n[o].deptName+p.workDescribe,this.departmentOne={},this.departmentOne.dataset=formatData.formatLessThanTwoLatitudeData(p),o==this.indexDep-1&&commit("UPDATE_LOADING",!1));case 20:if(1!=o){t.next=25;break}return t.next=23,(0,m.getList)(e,{date_:i,DEPT_CH:c});case 23:u=t.sent,u.success&&(D=u.data,D.workDescribe=a+n[o].deptName+D.workDescribe,this.departmentTwo={},this.departmentTwo.dataset=formatData.formatLessThanTwoLatitudeData(D),o==this.indexDep-1&&commit("UPDATE_LOADING",!1));case 25:if(2!=o){t.next=31;break}return t.next=28,(0,m.getList)(e,{date_:i,DEPT_CH:c});case 28:h=t.sent,h.success&&(l=h.data,l.workDescribe=a+n[o].deptName+l.workDescribe,this.departmentThree={},this.departmentThree.dataset=formatData.formatLessThanTwoLatitudeData(l),o==this.indexDep-1&&commit("UPDATE_LOADING",!1)),o==this.indexDep-1&&commit("UPDATE_LOADING",!1);case 31:if(3!=o){t.next=37;break}return t.next=34,(0,m.getList)(e,{date_:i,DEPT_CH:c});case 34:f=t.sent,f.success&&(g=f.data,g.workDescribe=a+n[o].deptName+g.workDescribe,this.departmentFour={},this.departmentFour.dataset=formatData.formatLessThanTwoLatitudeData(g),o==this.indexDep-1&&commit("UPDATE_LOADING",!1)),o==this.indexDep-1&&commit("UPDATE_LOADING",!1);case 37:if(4!=o){t.next=43;break}return t.next=40,(0,m.getList)(e,{date_:i,DEPT_CH:c});case 40:b=t.sent,b.success&&(v=b.data,v.workDescribe=a+n[o].deptName+v.workDescribe,this.departmentFive={},this.departmentFive.dataset=formatData.formatLessThanTwoLatitudeData(v),o==this.indexDep-1&&commit("UPDATE_LOADING",!1)),o==this.indexDep-1&&commit("UPDATE_LOADING",!1);case 43:o++,t.next=13;break;case 46:t.next=50;break;case 48:commit("UPDATE_LOADING",!1),console.log(s.message);case 50:case"end":return t.stop()}},t,this)}));return t}(),getDataReturnRate:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(r.default.mark(function t(){var e,a,i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return commit("UPDATE_LOADING",!0),e="","201"==this.permissions?e="APP10125a":"203"==this.permissions&&(e="APP10125b"),a=formatData.dateConversion(this.time),t.next=6,(0,m.getList)(e,{date_:a});case 6:i=t.sent,i.success?(s=i.data,this.barDataReturnRate={},this.barDataReturnRate.dataset=formatData.formatLessThanTwoLatitudeData(s),commit("UPDATE_LOADING",!1)):(commit("UPDATE_LOADING",!1),console.log(i.message));case 8:case"end":return t.stop()}},t,this)}));return t}(),getDataDyingMaterial:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(r.default.mark(function t(){var e,a,i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return commit("UPDATE_LOADING",!0),e="","201"==this.permissions?e="APP10303a":"203"==this.permissions&&(e="APP10303b"),a=formatData.dateConversion(this.timeMaterial),t.next=6,(0,m.getList)(e,{date_:a});case 6:i=t.sent,i.success?(s=i.data,this.barDataDyingMaterial={},this.barDataDyingMaterial.dataset=formatData.formatLessThanTwoLatitudeData(s),commit("UPDATE_LOADING",!1)):(commit("UPDATE_LOADING",!1),console.log(i.message));case 8:case"end":return t.stop()}},t,this)}));return t}(),getbarDataAttendance:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(r.default.mark(function t(){var e,a,i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return commit("UPDATE_LOADING",!0),e="","201"==this.permissions?e="APP10209a":"203"==this.permissions&&(e="APP10209b"),a=formatData.dateConversion(this.timeAttendance),t.next=6,(0,m.getList)(e,{date_:a});case 6:i=t.sent,i.success?(s=i.data,this.barDataAttendance={},this.barDataAttendance.dataset=formatData.formatLessThanTwoLatitudeData(s),commit("UPDATE_LOADING",!1)):(commit("UPDATE_LOADING",!1),console.log(i.message));case 8:case"end":return t.stop()}},t,this)}));return t}(),getbarDataLossRate:function(){function t(){return e.apply(this,arguments)}var e=(0,o.default)(r.default.mark(function t(){var e,a,i,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return commit("UPDATE_LOADING",!0),e="","201"==this.permissions?e="APP10210a":"203"==this.permissions&&(e="APP10210b"),a=formatData.dateConversion(this.timeAttendance),t.next=6,(0,m.getList)(e,{date_:a});case 6:i=t.sent,i.success?(s=i.data,this.barDataLossRate={},this.barDataLossRate.dataset=formatData.formatLessThanTwoLatitudeData(s),commit("UPDATE_LOADING",!1)):(commit("UPDATE_LOADING",!1),console.log(i.message));case 8:case"end":return t.stop()}},t,this)}));return t}()},watch:{index:function(t,e){1==this.index?0==this.isClickWarehousing&&(this.getDataReturnRate(),this.isClickWarehousing++):2==this.index?0==this.isClickMaterial&&(this.getDataDyingMaterial(),this.isClickMaterial++):3==this.index&&0==this.isClickAttendance&&(this.getbarDataAttendance(),this.getbarDataLossRate(),this.isClickAttendance++)},time:function(t,e){this.getDataReturnRate(),formatData.setDateTime(t)},timeMaterial:function(t,e){this.getDataDyingMaterial(),formatData.setDateTime(t)},timeAttendance:function(t,e){this.getbarDataAttendance(),this.getbarDataLossRate(),formatData.setDateTime(t)},timeEffectiveness:function(t,e){this.getDepartmentList(),formatData.setDateTime(t)}},created:function(){this.departmentOne={},this.departmentOne.dataset=[],this.departmentTwo={},this.departmentTwo.dataset=[],this.departmentThree={},this.departmentThree.dataset=[],this.departmentFour={},this.departmentFour.dataset=[],this.departmentFive={},this.departmentFive.dataset=[],this.barDataReturnRate={},this.barDataReturnRate.dataset=[],this.barDataDyingMaterial={},this.barDataDyingMaterial.dataset=[],this.barDataAttendance={},this.barDataAttendance.dataset=[],this.barDataLossRate={},this.barDataLossRate.dataset=[],this.getDepartmentList()}}}});
//# sourceMappingURL=0.830dbe1e9c2a6034a09e.js.map